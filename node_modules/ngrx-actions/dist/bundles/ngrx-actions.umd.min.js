!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("rxjs/operators"),require("@ngrx/store")):"function"==typeof define&&define.amd?define("ngrx-actions",["exports","@angular/core","rxjs/operators","@ngrx/store"],r):r(e["ngrx-actions"]={},e.ng.core,e.Rx.Observable.prototype,e.store)}(this,function(e,r,s,l){"use strict";function d(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}function t(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),c=[];try{for(;(void 0===r||0<r--)&&!(n=i.next()).done;)c.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(o)throw o.error}}return c}function y(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(t(arguments[r]));return e}var p=function(){function r(){}return r.prototype.connect=function(e){r.store=e},r}();p.store=undefined,p.decorators=[{type:r.Injectable}],p.ctorParameters=function(){return[]};var o="__ngrx__actions__";function v(e){if(!e.hasOwnProperty(o)){Object.defineProperty(e,o,{value:{actions:{},effects:{}}})}return e[o]}function g(e){var r=!e.prototype,t=r?e.constructor:e;if(!t.hasOwnProperty(o))throw new Error("A reducer can be created from a @Store decorated class only.");var c=r?e:new e,n=t[o],a=n.initialState,u=n.actions,f=n.effects;return function(e,r){void 0===e&&(e=a);var t=u[r.type];if(t){var n=c[t.fn](e,r);if(n===undefined)return Array.isArray(e)?y(e):Object.assign({},e);e=n}var o=f[r.type];if(o){var i=c[o.fn](e,r);i&&(i.subscribe?i.pipe(s.materialize()).subscribe(function(e){e.value&&p.store&&p.store.dispatch(e.value)}):p.store&&(Array.isArray(i)?i.forEach(function(e){return p.store&&p.store.dispatch(e)}):p.store.dispatch(i)))}return e}}var n=new r.InjectionToken("STORE_TOKEN"),i=new r.InjectionToken("FEATURE_STORE_TOKEN"),c=function(){function t(e,r,t,n,o,i){if(i.connect(n),e)for(var c in e){var a=e[c],u=o.get(a,new a);t.addReducer(c,g(u))}if(r){"string"!=typeof r.key&&(r.reducers=r.key,r.key=undefined);var f={};for(var c in r.reducers){a=r.reducers[c],u=o.get(a,new a);f[c]=g(u)}r.key&&t.addFeature({reducers:f,reducerFactory:l.combineReducers,key:r.key})}}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:n,useValue:e}]}},t.forFeature=function(e,r){return{ngModule:t,providers:[{provide:i,useValue:{key:e,reducers:r}}]}},t}();c.decorators=[{type:r.NgModule,args:[{imports:[l.StoreModule],providers:[p]}]}],c.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[n]}]},{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[i]}]},{type:l.ReducerManager},{type:l.Store},{type:r.Injector},{type:p}]},e.NgrxActionsModule=c,e.Action=function(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];return function(e,r,t){var n,o,i=v(e.constructor);try{for(var c=d(l),a=c.next();!a.done;a=c.next()){var u=a.value,f=(new u).type;if(i.actions[f])throw new Error("@Action for '"+f+"' is defined multiple times in functions '"+i.actions[f].fn+"' and '"+r+"'");i.actions[f]={action:u,fn:r,type:f}}}catch(s){n={error:s}}finally{try{a&&!a.done&&(o=c["return"])&&o.call(c)}finally{if(n)throw n.error}}}},e.ofAction=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t={};return e.forEach(function(e){return t[(new e).type]=!0}),s.filter(function(e){return t[e.type]})},e.Store=function(r){return void 0===r&&(r={}),function(e){v(e).initialState=r}},e.Select=function(i){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];return function(e,r){var t,n="__"+r+"__selector";if(i||(i=r),"string"==typeof i){var o=c.length?y([i],c):i.split(".");t=function(e){for(var r=e,t="store."+r[0],n=0,o=r.length,i=t;++n<o;)i=i+" && "+(t=t+"."+r[n]);return new Function("store","return "+i+";")}(o)}else t=i;if(e[n])throw new Error("You cannot use @Select decorator and a "+n+" property.");delete e[r]&&(Object.defineProperty(e,n,{writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,r,{get:function(){return this[n]||(this[n]=function(){var e=p.store;if(!e)throw new Error("NgrxSelect not connected to store!");return e.select(t)}.apply(this))},enumerable:!0,configurable:!0}))}},e.NgrxSelect=p,e.createReducer=g,e.Effect=function(){for(var l=[],e=0;e<arguments.length;e++)l[e]=arguments[e];return function(e,r,t){var n,o,i=v(e.constructor);try{for(var c=d(l),a=c.next();!a.done;a=c.next()){var u=a.value,f=(new u).type;if(i.effects[f])throw new Error("@Effect for '"+f+"' is defined multiple times in functions '"+i.effects[f].fn+"' and '"+r+"'");i.effects[f]={action:u,fn:r,type:f}}}catch(s){n={error:s}}finally{try{a&&!a.done&&(o=c["return"])&&o.call(c)}finally{if(n)throw n.error}}}},e.ɵb=i,e.ɵa=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngrx-actions.umd.min.js.map
